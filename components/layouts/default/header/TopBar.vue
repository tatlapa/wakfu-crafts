<script setup lang="ts">
import { useItemsStore } from "~/stores/items";

const itemsStore = useItemsStore();

onMounted(() => {
  itemsStore.getUserLang();
});

const setLanguage = (lang: string) => {
  itemsStore.userLang = lang;
  localStorage.setItem("lang", lang);
  console.log("Langue modifiÃ©e :", lang);
};
</script>

<template>
  <div class="flex justify-between w-full p-2 bg-black text-black">
    <h1>Wakfu Crafter</h1>
    <div class="w-32">
      <Select v-model="itemsStore.userLang" @update:modelValue="setLanguage">
        <SelectTrigger>
          <SelectValue placeholder="Choisir une langue" />
        </SelectTrigger>
        <SelectContent>
          <SelectGroup>
            <SelectItem value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</SelectItem>
            <SelectItem value="en">ğŸ‡¬ğŸ‡§ English</SelectItem>
            <SelectItem value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</SelectItem>
            <SelectItem value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</SelectItem>
          </SelectGroup>
        </SelectContent>
      </Select>
    </div>
  </div>
</template>
